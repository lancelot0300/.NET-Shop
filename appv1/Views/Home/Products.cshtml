@model List<Products>

@{
    ViewData["Title"] = "Lista Produktów";
    @using Microsoft.AspNetCore.Http;
    @inject IHttpContextAccessor HttpContextAccessor
}

<div>
    <h1>Produkty</h1>
    <table class="tabela">
       
            <tr> 
                
                
              <td>ID</td>
              <td>Nazwa</td>
              <td>Kod Produktu</td>
              <td>Ilość</td>
              <td>Cena</td>
              
             @if(!string.IsNullOrEmpty(@HttpContextAccessor.HttpContext.Session.GetString("username")))
            {
                 <td>Usuń Produkt</td>
            }
            </tr>
             
                
              
        
        
            @foreach (var item in Model)
            {
                <tr>
                    <td> @item.ID </td>
                    <td> @item.Nazwa </td>
                    <td> @item.KodProduktu </td>
                    <td> @item.Ilosc </td>
                    <td> @item.Cena  zł/kg</td>

             @if(!string.IsNullOrEmpty(@HttpContextAccessor.HttpContext.Session.GetString("username")))
            {
               <td > @using( @Html.BeginForm("UsunProduct", "Home" , new {id = item.ID}))
                        {
                            <input type="submit"  value="Usun" />
                        }
                    </td>
            }
                    

                </tr>
            }
       
    </table>

    <div class="col-lg-12"> 

    
             @if(!string.IsNullOrEmpty(@HttpContextAccessor.HttpContext.Session.GetString("username")))
            {
                @Html.ActionLink("DodajProdukt", "DodajProdukt", "Home") 
            }
           
        
       </div>   
